<style>
  /* #shopify-section-{{ section.id }} {
    margin: 4rem 0;
  } */
  #shopify-section-{{ section.id }} * {
    box-sizing: border-box;
  }
  .wide-banner__container {
    display: flex;
    flex-direction: column;
    background-color: {% if section.settings.background_pattern == 'light' %} rgb(var(--color-link), .6)
      {% elsif section.settings.background_pattern == 'dark' %} #333
      {% endif %};
    background-image: url(
      {% if section.settings.background_pattern == 'light' %} "{{  'light-pattern-g.png' | asset_url }}"
      {% elsif section.settings.background_pattern == 'dark' %} "{{  '' | asset_url }}"
      {% endif %}
    );
    background-repeat: no-repeat;
    background-size: cover;
    /* height: 40rem; */
    width: 95%;
    border-radius: 1rem;
  }
  .wide-banner__container > div {
    width: 95%;
    margin: 3rem auto;
  }
  .wide-banner__image {
    order: 2;
    position: relative;
  }
  .wide-banner__image img {
    width: 100%;
    height: 20rem;
    object-fit: contain;
    position: relative;
    z-index: 2;
  }
  .wide-banner__image::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1;
    filter: blur(37px);
    height: 110%;
    width: 60%;
    background-color: var(--blur-light-color);
    border-radius: 50%;
  }
  .wide-banner__content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    order: 1;
  }
  .wide-banner__content h3 {
    font-size: 4rem;
    font-weight: 800;
    margin: 1rem 0;
    text-align: center;
  }
  .wide-banner__content .wide-banner__button {
    margin: 2rem 0;
  }

  @media screen and (min-width: 750px) {
    .wide-banner__container {
      width: 100%;
      display: grid;
      grid-template-rows: 100%;
      grid-template-columns: 40% 40%;
      grid-column-gap: 2rem;
      align-items: center;
      justify-content: center;
    }
    .wide-banner__image {
      order: 1;
    }
  }
</style>

<div class="wide-banner__outer_container page-width-tablet page-width-desktop">
  <div class="wide-banner__container">
    <div class="wide-banner__image" style="--blur-light-color:{{ section.settings.blur_color }}">
      <img
        srcset="{%- if section.settings.image.width >= 550 -%}{{ section.settings.image | image_url: width: 550 }} 550w,{%- endif -%}
            {%- if section.settings.image.width >= 1100 -%}{{ section.settings.image | image_url: width: 1100 }} 1100w,{%- endif -%}
            {%- if section.settings.image.width >= 1445 -%}{{ section.settings.image | image_url: width: 1445 }} 1445w,{%- endif -%}
            {%- if section.settings.image.width >= 1680 -%}{{ section.settings.image | image_url: width: 1680 }} 1680w,{%- endif -%}
            {%- if section.settings.image.width >= 2048 -%}{{ section.settings.image | image_url: width: 2048 }} 2048w,{%- endif -%}
            {%- if section.settings.image.width >= 2200 -%}{{ section.settings.image | image_url: width: 2200 }} 2200w,{%- endif -%}
            {%- if section.settings.image.width >= 2890 -%}{{ section.settings.image | image_url: width: 2890 }} 2890w,{%- endif -%}
            {%- if section.settings.image.width >= 4096 -%}{{ section.settings.image | image_url: width: 4096 }} 4096w,{%- endif -%}
            {{ section.settings.image | image_url }} {{ section.settings.image.width }}w"
        sizes="(min-width: 750px) calc(100vw - 22rem), 1100px"
        src="{{ section.settings.image | image_url: width: 1445 }}"
        alt="{{ section.settings.image.alt | escape }}"
        loading="lazy"
        width="1100"
        height="{{ 1100 | divided_by: section.settings.image.aspect_ratio | ceil }}"
      >
    </div>
    <div class="wide-banner__content">
      <h3 class="wide-banner__title">{{ section.settings.title }}</h3>
      <div class="wide-banner__text">{{ section.settings.content }}</div>
      <a href="{{ section.settings.link }}" class="wide-banner__button button">{{ section.settings.button_label }}</a>
    </div>
  </div>
</div>

{% schema %}
  {
    "name": "Wide Banner",
    "settings": [
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "text",
        "id": "title",
        "label": "Title"
      },
      {
        "type": "textarea",
        "id": "content",
        "label": "Content"
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button Label"
      }, {
        "type": "url",
        "id": "link",
        "label": "Link"
      }, {
        "type": "select",
        "id": "background_pattern",
        "label": "Background Pattern",
        "default": "light",
        "options": [
          {
            "value": "none",
            "label": "None"
          }, {
            "value": "light",
            "label": "Light"
          }, {
            "value": "dark",
            "label": "Dark"
          }
        ]
      },
      {
        "type": "color",
        "id": "blur_color",
        "label": "Blur Color",
        "default": "#fff"
      }
    ],
    "presets": [
      {
        "name": "Wide Banner",
        "category": "Image"
      }
    ]
  }
{% endschema %}